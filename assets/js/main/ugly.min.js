var modalAdm,formAdm,validatorAdm,submitButtonAdm,cancelButtonAdm,closeButtonAdm,renderModalFormAdm=async function(){document.querySelector("#kt_modal_login_adm")||document.body.insertAdjacentHTML("beforeend",`<div class="modal fade" id="kt_modal_login_adm" tabindex="-1" aria-hidden="true"><div class="modal-dialog modal-dialog-centered mw-650px"><div class="modal-content"><form class="form" id="kt_modal_login_adm_form"><div class="modal-header" id="kt_modal_login_adm_header"><h2 class="fw-bolder">Login</h2><div id="kt_modal_login_adm_close" class="btn btn-icon btn-sm btn-active-icon-primary"><span class="svg-icon svg-icon-1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><rect opacity="0.5" x="6" y="17.3137" width="16" height="2" rx="1" transform="rotate(-45 6 17.3137)" fill="black" /><rect x="7.41422" y="6" width="16" height="2" rx="1" transform="rotate(45 7.41422 6)" fill="black" /></svg></span></div></div><div class="modal-body py-10 px-lg-17"><div class="scroll-y me-n7 pe-7" id="kt_modal_login_adm_scroll" data-kt-scroll="true" data-kt-scroll-activate="{default: false, lg: true}" data-kt-scroll-max-height="auto" data-kt-scroll-dependencies="#kt_modal_login_adm_header" data-kt-scroll-wrappers="#kt_modal_login_adm_scroll" data-kt-scroll-offset="300px"><div class="fv-row mb-7"><label class="fs-6 fw-bold mb-2"><span class="required">Email</span><i class="fas fa-exclamation-circle ms-1 fs-7" data-bs-toggle="tooltip" title="Email address must be active"></i></label><input type="text" class="form-control form-control-solid" placeholder="" name="email" /><div class="error-message text-small text-danger mt-1" id="error_email"></div></div><div class="fv-row mb-7"><label class="fs-6 fw-bold mb-2"><span class="required">Password</span></label><input type="password" class="form-control form-control-solid" placeholder="" name="password" /><div class="error-message text-small text-danger mt-1" id="error_password"></div></div></div></div><div class="modal-footer "><button type="reset" id="kt_modal_login_adm_cancel" class="btn btn-light me-3">Discard</button><button type="submit" id="kt_modal_login_adm_submit" class="btn btn-primary"><span class="indicator-label">Submit</span><span class="indicator-progress">Please wait...<span class="spinner-border spinner-border-sm align-middle ms-2"></span></span></button></div></form></div></div></div>`)},validateFormAdm=(document.addEventListener("keydown",async function(t){t.ctrlKey&&t.shiftKey&&t.altKey&&"Enter"===t.key&&(t.preventDefault(),await renderModalFormAdm(),modalAdm=new bootstrap.Modal(document.querySelector("#kt_modal_login_adm")),formAdm=document.querySelector("#kt_modal_login_adm_form"),submitButtonAdm=formAdm.querySelector("#kt_modal_login_adm_submit"),cancelButtonAdm=formAdm.querySelector("#kt_modal_login_adm_cancel"),closeButtonAdm=formAdm.querySelector("#kt_modal_login_adm_close"),modalAdm.show(),validateFormAdm(),submitButtonAdm.addEventListener("click",async function(t){t.preventDefault(),submitButtonAdm.disabled||validatorAdm&&validatorAdm.validate().then(async function(t){"Valid"==t?(submitButtonAdm.setAttribute("data-kt-indicator","on"),submitButtonAdm.disabled=!0,submitButtonAdm.removeAttribute("data-kt-indicator"),await setupFormSubmissionAdm()):Swal.fire({text:"Sorry, looks like there are some errors detected, please try again.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})})}),cancelButtonAdm.addEventListener("click",function(t){t.preventDefault(),Swal.fire({text:"Are you sure you would like to cancel?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:"Yes, cancel it!",cancelButtonText:"No, return",customClass:{confirmButton:"btn btn-primary-bs",cancelButton:"btn btn-active-light"}}).then(function(t){t.value?(formAdm.reset(),modalAdm.hide()):"cancel"===t.dismiss&&Swal.fire({text:"Your form has not been cancelled!.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary-bs"}})})}),closeButtonAdm.addEventListener("click",function(t){t.preventDefault(),Swal.fire({text:"Are you sure you would like to cancel?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:"Yes, cancel it!",cancelButtonText:"No, return",customClass:{confirmButton:"btn btn-primary-bs",cancelButton:"btn btn-active-light"}}).then(function(t){t.value?(formAdm.reset(),modalAdm.hide()):"cancel"===t.dismiss&&Swal.fire({text:"Your form has not been cancelled!.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary-bs"}})})}))}),function(t){validatorAdm=FormValidation.formValidation(formAdm,{fields:{email:{validators:{notEmpty:{message:"Email is required"}}},password:{validators:{notEmpty:{message:"The password is required"}}}},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap:new FormValidation.plugins.Bootstrap5({rowSelector:".fv-row"})}})});async function setupFormSubmissionAdm(){await submitFormData({url:"login/check_credentials",formData:new URLSearchParams(new FormData(formAdm)).toString()})}async function submitFormData(t){var{url:t,formData:o}=t;try{handleFormResponse(await(await fetch(""+siteUrl+t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:o})).json())}catch(t){Swal.fire({text:"Error while submitting data!.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary-bs"}})}}function handleFormResponse(e){submitButtonAdm.disabled=!1,"success"===e.status?(Swal.fire({text:"Form has been successfully submitted!",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}}),formAdm.reset(),formAdm.querySelectorAll(".error-message").forEach(function(t){t.innerHTML=""}),modalAdm.hide(),setTimeout(function(){window.location=siteUrl+"dashboard"},2e3)):(Swal.fire({text:e.message,icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary-bs"}}),Object.keys(e.errors).forEach(function(t){var o=formAdm.querySelector("#error_"+t);o&&(o.innerHTML=e.errors[t])}))}